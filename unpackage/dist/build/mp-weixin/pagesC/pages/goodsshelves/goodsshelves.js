require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesC/pages/goodsshelves/goodsshelves"],{"2cdd":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement;t._self._c},r=[]},3141:function(t,e,o){"use strict";var n=o("52fd"),s=o.n(n);s.a},"342b":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(o("b07d")),s=r(o("2540"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return u(t)||c(t)||i(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"===typeof t)return d(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?d(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var f={data:function(){return{state:s.default.state,tabArr:["可选商品","在售商品"],tabIndex:0,searchContent:"",searchContent2:"",idFocus:!1,childIndex:0,supplierId:"",storeId:"",supplierInfo:null,classifyArr:[],pageNo:1,allowPull:!1,sellArr:[],canSelectSellArr:[]}},methods:{removeGoods:function(e){var o=this;n.default.removeStoreGoods({productId:e},(function(e){t.showToast({title:e.msg,icon:"none"}),1==e.status&&(o.pageNo=1,o.getSupplyGoods())}))},makeCall:function(e){t.makePhoneCall({phoneNumber:e})},getSupplyGoods:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"one",o=this;if(0==this.tabIndex){var s={supplierId:o.supplierId,storeId:o.storeId,goodsClassify:o.classifyArr[o.childIndex].classifyId,pageSize:10,pageNo:o.pageNo};o.searchContent&&(s.searchContent=o.searchContent),n.default.getSupplyGoods(s,(function(o){console.log("可选商品列表",o),"one"==e?(t.canSelectSellArr=o.list,t.allowPull=!o.lastPage):(t.canSelectSellArr=[].concat(a(t.canSelectSellArr),a(o.list)),t.allowPull=!o.lastPage)}))}else if(1==this.tabIndex){var r={storeId:o.storeId,goodsClassify:o.classifyArr[o.childIndex].classifyId,pageSize:10,pageNo:o.pageNo};o.searchContent&&(r.searchContent=o.searchContent),n.default.getStoreGoods(r,(function(o){console.log("已上架商品列表",o),"one"==e?(t.sellArr=o.list,t.allowPull=!o.lastPage):(t.sellArr=[].concat(a(t.sellArr),a(o.list)),t.allowPull=!o.lastPage)}))}},getGoodsClassify:function(t){var e=this;n.default.getGoodsClassify(t,(function(t){e.classifyArr=t,e.getSupplyGoods()}))},changeTabIndex:function(t){this.tabIndex!=t&&(this.tabIndex=t,this.pageNo=1,this.getSupplyGoods())},changeChildIndex:function(t){this.childIndex!=t&&(this.childIndex=t,this.getSupplyGoods())},getList:function(){this.pageNo=1,this.getSupplyGoods()},clearContent:function(){this.searchContent="",this.isFocus=!0},pageToManage:function(e,o,n){if(n)return t.showToast({title:"请先下架该商品",icon:"none"});t.navigateTo({url:"/pagesC/pages/goodsmanage/goodsmanage?goodsId=".concat(e,"&supplierId=").concat(o,"&storeId=").concat(this.storeId)})}},onLoad:function(t){this.supplierId=t.supplierId||"",this.storeId=t.storeId||"",this.getGoodsClassify({supplierId:t.supplierId})},onReachBottom:function(){this.allowPull&&(this.pageNo++,this.getSupplyGoods("more"))},onPullDownRefresh:function(){this.pageNo=1,this.getSupplyGoods()}};e.default=f}).call(this,o("543d")["default"])},"3fb2":function(t,e,o){"use strict";o.r(e);var n=o("2cdd"),s=o("8e59");for(var r in s)"default"!==r&&function(t){o.d(e,t,(function(){return s[t]}))}(r);o("3141");var a,l=o("f0c5"),i=Object(l["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=i.exports},"52fd":function(t,e,o){},"8e59":function(t,e,o){"use strict";o.r(e);var n=o("342b"),s=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},d293:function(t,e,o){"use strict";(function(t){o("56cc");n(o("66fd"));var e=n(o("3fb2"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])}},[["d293","common/runtime","common/vendor"]]]);