require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/pages/hopecreate/hopecreate"],{"1dc6":function(t,e,n){"use strict";n.r(e);var o=n("f1f5"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"4f50":function(t,e,n){"use strict";(function(t){n("56cc");o(n("66fd"));var e=o(n("80b2"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"80b2":function(t,e,n){"use strict";n.r(e);var o=n("d3b5"),i=n("1dc6");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("b680");var a,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=s.exports},b680:function(t,e,n){"use strict";var o=n("eeb9"),i=n.n(o);i.a},d3b5:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},r=[]},eeb9:function(t,e,n){},f1f5:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("2540")),i=s(n("375e")),r=n("7a66"),a=s(n("6174")),c=s(n("f1c9"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return h(t)||d(t)||f(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return m(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var p=function(){n.e("pagesB/components/xfl-select").then(function(){return resolve(n("12fc"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("pagesB/components/yu-datetime-picker").then(function(){return resolve(n("75eb"))}.bind(null,n)).catch(n.oe)},v={data:function(){return{state:o.default.state,startTime:"报名开始时间",actDetailImg:[],hopetypeArr:[],list:[],chooseType:"",typeId:""}},components:{xflSelect:p,yuDatetimePicker:g},methods:{delImg:function(t){this.actDetailImg.splice(t,1)},uploadActImg:function(){var e=this;if(e.actDetailImg.length>=9)t.showToast({title:"最多上传9张图哦~",icon:"none",mask:!0});else{var n={_success:this._success,count:9-this.actDetailImg.length};i.default.chooseImg(n)}},_success:function(e){for(var n=0;n<e.length;n++)this.actDetailImg.push(e[n]);t.hideLoading()},formSubmit:function(e){var n=e.detail.value;n.wishDatetime=this.startTime,n.communityId=this.state.communityId,n.helpType=this.typeId;for(var o=[],i=0;i<this.actDetailImg.length;i++)o.push((0,r.getBase64)(this.actDetailImg[i]));return n.pics=o.join(),console.log(n),n.helpType&&n.mobile.trim()&&n.wishPerson.trim()&&n.personAdd.trim()&&n.pics&&n.serviceDuration.trim()&&n.wishContent.trim()&&n.wishTitle.trim()?(0,r.isTel)(n.mobile)?n.needPerson<0?t.showToast({title:"求助人数必须大于0哦 ~",icon:"none"}):n.serviceDuration<0?t.showToast({title:"服务时长必须大于0哦 ~",icon:"none"}):void c.default.publishWish(n,(function(e){console.log(e),t.redirectTo({url:"/pagesB/pages/hopemain/hopemain"})})):t.showToast({title:"手机号错误",icon:"none"}):t.showToast({title:"信息不全 ~",icon:"none"})},setChoose:function(t){this.chooseType=t.newVal;var e=this.hopetypeArr.filter((function(e){return e.name==t.newVal}));this.typeId=e[0].id,console.log(this.typeId)},getStopTimer:function(t){this.startTime=t.selectRes,console.log(this.startTime)},showTime:function(){this.$refs.dateTime.show()}},onLoad:function(t){var e=this;a.default.getDataDictionary((function(t){console.log(t),e.hopetypeArr=t;var n=t.map((function(t){return t.name}));e.list=u(n),console.log(e.list)}))}};e.default=v}).call(this,n("543d")["default"])}},[["4f50","common/runtime","common/vendor","pagesB/common/vendor"]]]);