require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesC/pages/addstore/addstore"],{"1e20":function(t,e,i){"use strict";i.r(e);var s=i("a5f4"),o=i("e72a");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("7e20");var r,a=i("f0c5"),d=Object(a["a"])(o["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],r);e["default"]=d.exports},"7e20":function(t,e,i){"use strict";var s=i("a452"),o=i.n(s);o.a},a452:function(t,e,i){},a5f4:function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var o=function(){var t=this,e=t.$createElement;t._self._c},n=[]},d763:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(i("2540")),o=i("7a66"),n=r(i("b07d"));function r(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{state:s.default.state,classify:[],failureCase:"",formObj:{storeName:"",gisDisplayAdd:"",addressgis:"",apartmentAddress:"",detailAddress:"",phonenum:"",distributionRange:"",distributionFee:"",goodsClassify:""},typeArr:[],isSign:-1}},methods:{submitFun:function(){var e=this,i=this;return this.formObj.communityId=this.state.communityId,this.formObj.goodsClassify=this.typeArr.filter((function(t){return t.check})).map((function(t){return t.classifyId})).join(";"),this.formObj.storeName&&this.formObj.gisDisplayAdd&&this.formObj.addressgis&&this.formObj.apartmentAddress&&this.formObj.phonenum&&this.formObj.distributionRange&&this.formObj.distributionFee&&this.formObj.goodsClassify?(console.log(this.formObj),(0,o.isTel)(this.formObj.phonenum)?void n.default.applyForStore(this.formObj,(function(s){t.showToast({title:s.msg,icon:"none"}),e.timer=setTimeout((function(){i.getMyStoreDetail()}),1500)})):t.showToast({title:"手机号码错误",icon:"none"})):t.showToast({title:"信息不全",icon:"none"})},getMyStoreDetail:function(){var t=this;n.default.getMyStoreDetail((function(e){e?(console.log(e),t.isSign=e.approveres,t.formObj.storeName=e.storeName,t.formObj.gisDisplayAdd=e.gisDisplayAdd,t.formObj.apartmentAddress=e.apartmentAddress,t.formObj.detailAddress=e.detailAddress,t.formObj.phonenum=e.phonenum,t.formObj.distributionFee=e.distributionFee,t.formObj.distributionRange=e.distributionRange,t.formObj.addressgis=e.addressgis,t.failureCase=e.failureCase,t.formObj.storeId=e.storeId,t.classify=e.classify.split(",")):t.isSign=-1}))},getGoodsClassify:function(){var t=this;n.default.getGoodsClassify({},(function(e){t.typeArr=e.map((function(t){return t.check=!1,t}))}))},goSetting:function(t){var e=this;t.mp.detail.authSetting["scope.userLocation"]&&(s.default.commit("setPassAddr",!0),(0,o.getLocatio_LBS)((function(t){e.formObj.gisDisplayAdd=t.address,e.formObj.addressgis=t.longitude.toFixed(6)+","+t.latitude.toFixed(6)})))},getLocation:function(){var e=this;t.chooseLocation({success:function(t){console.log(t),e.formObj.gisDisplayAdd=t.address,e.formObj.addressgis=t.longitude.toFixed(6)+","+t.latitude.toFixed(6)}})},changeChoose:function(t){this.typeArr[t].check=!this.typeArr[t].check},changeIsSign:function(){var t=this;this.isSign=-1,this.typeArr.forEach((function(e,i,s){t.classify.forEach((function(t){e.classifyName==t&&(s[i].check=!0)}))}))}},onLoad:function(){this.getGoodsClassify(),this.getMyStoreDetail()},onHide:function(){clearTimeout(this.timer)}};e.default=a}).call(this,i("543d")["default"])},e72a:function(t,e,i){"use strict";i.r(e);var s=i("d763"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=o.a},ff8f:function(t,e,i){"use strict";(function(t){i("56cc");s(i("66fd"));var e=s(i("1e20"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])}},[["ff8f","common/runtime","common/vendor"]]]);