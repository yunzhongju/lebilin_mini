require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesC/pages/union/union"],{"20f1":function(e,n,t){"use strict";t.r(n);var i=t("6372"),c=t("6960");for(var a in c)"default"!==a&&function(e){t.d(n,e,(function(){return c[e]}))}(a);t("5ccf");var o,r=t("f0c5"),s=Object(r["a"])(c["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);n["default"]=s.exports},5684:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(t("9bd8")),c=a(t("2540"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return l(e)||u(e)||s(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,n){if(e){if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return f(e)}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var h={data:function(){return{state:c.default.state,titleArr:["贡献排名","离我最近"],activeIndex:0,pageNo:1,allowPull:!1,merchanArr:[],serviceList:[{name:"雨伞",choose:!1,iconpath:["/static/service_icon/yusan_icon.png","/static/service_icon/yusan_hui.png"]},{name:"歇脚",choose:!1,iconpath:["/static/service_icon/xiejiao_icon.png","/static/service_icon/xiejiao_hui.png"]},{name:"开水",choose:!1,iconpath:["/static/service_icon/kaishui_icon.png","/static/service_icon/kaishui_hui.png"]},{name:"兼职",choose:!1,iconpath:["/static/service_icon/jianzhi_icon.png","/static/service_icon/jianzhi_hui.png"]},{name:"微波炉",choose:!1,iconpath:["/static/service_icon/weibolu_icon.png","/static/service_icon/weibolu_hui.png"]},{name:"停车",choose:!1,iconpath:["/static/service_icon/tingche_icon.png","/static/service_icon/tingche_hui.png"]}]}},methods:{pageToMerchanInfo:function(n){e.navigateTo({url:"/pagesB/pages/merchantinfo/merchantinfo?item="+JSON.stringify(n)})},makePhone:function(n){e.makePhoneCall({phoneNumber:n})},getBusinessLeagues:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"one";i.default.getBusinessLeagues({communityId:this.state.communityId,location:this.state.lng+","+this.state.lat,order:0==this.activeIndex?"contribution":"distance",pageSize:6,pageNo:this.pageNo},(function(t){"one"==n?(e.merchanArr=t.list,e.allowPull=!t.lastPage):(e.merchanArr=[].concat(o(e.merchanArr),o(t.list)),e.allowPull=!t.lastPage)}))},changeActiveIndex:function(e){this.activeIndex!=e&&(this.activeIndex=e,this.pageNo=1,this.getBusinessLeagues())}},onLoad:function(e){this.getBusinessLeagues()},computed:{serviceTag:function(){var e=[];if(this.merchanArr!=[]){var n=this.merchanArr.map((function(e){return e.serviceTag}));e=n.map((function(e){for(var n=[],t=0;t<e.length;t++)"雨伞"==e[t]&&n.push({pic:"/static/service_icon/yusan_icon.png",name:"雨伞"}),"歇脚"==e[t]&&n.push({pic:"/static/service_icon/xiejiao_icon.png",name:"歇脚"}),"开水"==e[t]&&n.push({pic:"/static/service_icon/kaishui_icon.png",name:"开水"}),"兼职"==e[t]&&n.push({pic:"/static/service_icon/jianzhi_icon.png",name:"兼职"}),"微波炉"==e[t]&&n.push({pic:"/static/service_icon/weibolu_icon.png",name:"微波炉"});return n.length>4?n.slice(0,4):n}))}return e}},onReachBottom:function(){this.getBusinessLeagues("more")},onPullDownRefresh:function(){this.pageNo=1,this.getBusinessLeagues()}};n.default=h}).call(this,t("543d")["default"])},"5ccf":function(e,n,t){"use strict";var i=t("e772"),c=t.n(i);c.a},6372:function(e,n,t){"use strict";var i;t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return i}));var c=function(){var e=this,n=e.$createElement,t=(e._self._c,e.__map(e.merchanArr,(function(n,t){var i=e.__get_orig(n),c=e.__map(e.serviceList,(function(t,i){var c=e.__get_orig(t),a=n.serviceTag.includes(t.name);return{$orig:c,g0:a}}));return{$orig:i,l0:c}})));e.$mp.data=Object.assign({},{$root:{l1:t}})},a=[]},6960:function(e,n,t){"use strict";t.r(n);var i=t("5684"),c=t.n(i);for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);n["default"]=c.a},e772:function(e,n,t){},eb45:function(e,n,t){"use strict";(function(e){t("56cc");i(t("66fd"));var n=i(t("20f1"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["eb45","common/runtime","common/vendor"]]]);