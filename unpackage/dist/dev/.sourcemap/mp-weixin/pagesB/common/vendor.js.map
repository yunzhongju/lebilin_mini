{"version":3,"sources":["uni-app:///utils/uploadAliyun2.js","uni-app:///utils/uploadAliyun.js","uni-app:///servies/ServiceApi.js","uni-app:///pagesB/components/uni-icons/icons.js","uni-app:///utils/paseHtml.js"],"names":["resArrImg","index","uploadFile","_fail","desc","uni","showToast","icon","title","_success","chooseImg","sendData","that","chooseImage","count","sizeType","sourceType","success","res","showLoading","mask","uploadAliYun","tempFilePaths","params","length","showModal","content","showCancel","push","console","log","token","getStorageSync","url","store","state","baseUrl","filePath","name","header","formData","statusCode","hideLoading","_data","JSON","parse","data","fail","err","errMsg","ServiceApi","getService","callback","api","makeRequest","Url","loading","getServiceDetail","startTag","endTag","attr","empty","makeMap","block","inline","closeSelf","fillAttrs","special","HTMLParser","html","handler","chars","match","stack","last","indexOf","comment","substring","replace","parseEndTag","parseStartTag","text","RegExp","all","tag","tagName","rest","unary","toLowerCase","start","attrs","value","arguments","escaped","pos","i","end","str","obj","items","split","removeDOCTYPE","parseAttrs","reduce","pre","parseHtml","stacks","results","node","children","parent","unshift","shift","error","type"],"mappings":"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","file":"pagesB/common/vendor.js","sourcesContent":["\r\nlet resArrImg = [];\r\nvar index = 0;   // 从第一张开始上传\r\nimport CommonApi from '@/servies/CommonApi.js'\r\nconst uploadFile = {\r\n    _fail: function(desc) {\r\n        uni.showToast({\r\n            icon: \"none\",\r\n            title: desc\r\n        })\r\n    },\r\n    _success: function() {},\r\n    chooseImg: function(sendData) {\r\n        //先存储传递过来的回调函数\r\n        this._success = sendData._success;\r\n        var that = this;\r\n        uni.chooseImage({\r\n            count: sendData.count || 1,\r\n            sizeType: ['original', 'compressed'],\r\n            sourceType: [\"album\", \"camera\"],\r\n            success: res => {\r\n              uni.showLoading({\r\n                title:'上传中...',\r\n                mask: true\r\n              });\r\n              that.uploadAliYun(res.tempFilePaths);\r\n            }\r\n        })\r\n    },\r\n\r\n    uploadAliYun: function(params) {\r\n        var that = this;\r\n\r\n        if (params.length < 1) {\r\n            uni.showModal({\r\n                title: '图片错误',\r\n                content: '请重试',\r\n                showCancel: false,\r\n            })\r\n            return;\r\n        }\r\n\t\t\r\n\t\tresArrImg.push(params[index])\r\n\t\tindex ++\r\n\t\t//递归调用，上传下一张\r\n\t\tif(index < params.length) {\r\n\t\t  that.uploadAliYun(params);\r\n\t\t}else {\r\n\t\t\tconsole.log( '图片路径数组', resArrImg )\r\n\t\t   that._success(resArrImg);\r\n\t\t   index = 0 ;\r\n\t\t   resArrImg = [];\r\n\t\t}\r\n\r\n        /* uni.uploadFile({\r\n          url: 'http://132.232.74.143:5711/common/uploadPic',\r\n          filePath: params[index],\r\n          name: 'pic',\r\n          formData: {},\r\n            success: function (res) {\r\n\r\n                if (res.statusCode != 200) {\r\n                    uni.hideLoading();\r\n                    that._fail(\"上传图片失败\");\r\n                    return;\r\n                }\r\n\r\n                const _data = JSON.parse(res.data);\r\n\t\t\t\tconsole.log( '图片临时路径', _data )\r\n                resArrImg.push(_data.data[0]);\r\n                index++;\r\n\r\n                //递归调用，上传下一张\r\n                if(index < params.length) {\r\n                  that.uploadAliYun(params);\r\n                }else {\r\n\t\t\t\t\tconsole.log( '图片路径数组', resArrImg )\r\n                   that._success(resArrImg);\r\n                   index = 0 ;\r\n                   resArrImg = [];\r\n                }\r\n            },\r\n            fail: function (err) {\r\n                uni.hideLoading();\r\n                that._fail(err.errMsg)\r\n            },\r\n        }) */\r\n\r\n    },\r\n\t\r\n\t\r\n}\r\n\r\nexport default uploadFile\r\n","import CommonApi from '@/servies/CommonApi.js'\r\nimport store from '@/store/index.js'\r\n\r\nconst token = uni.getStorageSync('token')\r\nlet resArrImg = [];\r\nvar index = 0;   // 从第一张开始上传\r\nconst uploadFile = {\r\n    _fail: function(desc) {\r\n        uni.showToast({\r\n            icon: \"none\",\r\n            title: desc\r\n        })\r\n    },\r\n    _success: function() {},\r\n    chooseImg: function(sendData) {\r\n        //先存储传递过来的回调函数\r\n        this._success = sendData._success;\r\n        var that = this;\r\n        uni.chooseImage({\r\n            count: sendData.count || 1,\r\n            sizeType: ['original', 'compressed'],\r\n            sourceType: [\"album\", \"camera\"],\r\n            success: res => {\r\n              uni.showLoading({\r\n                title:'上传中...',\r\n                mask: true\r\n              });\r\n              that.uploadAliYun(res.tempFilePaths);\r\n            }\r\n        })\r\n    },\r\n\r\n    uploadAliYun: function(params) {\r\n        var that = this;\r\n\r\n        if (params.length < 1) {\r\n            uni.showModal({\r\n                title: '图片错误',\r\n                content: '请重试',\r\n                showCancel: false,\r\n            })\r\n            return;\r\n        }\r\n\r\n        uni.uploadFile({\r\n          url: store.state.baseUrl + '/common/uploadPic',\r\n          filePath: params[index],\r\n          name: 'pic',\r\n\t\t  header:{\r\n\t\t\t  \"wxa-sessionid\":token,\r\n\t\t  },\r\n          formData: {},\r\n            success: function (res) {\r\n\r\n                if (res.statusCode != 200) {\r\n                    uni.hideLoading();\r\n                    that._fail(\"上传图片失败\");\r\n                    return;\r\n                }\r\n\r\n                const _data = JSON.parse(res.data);\r\n\t\t\t\tconsole.log( '图片临时路径', _data )\r\n                resArrImg.push(_data.data[0]);\r\n                index++;\r\n\r\n                //递归调用，上传下一张\r\n                if(index < params.length) {\r\n                  that.uploadAliYun(params);\r\n                }else {\r\n\t\t\t\t\tconsole.log( '图片路径数组', resArrImg )\r\n                   that._success(resArrImg);\r\n                   index = 0 ;\r\n                   resArrImg = [];\r\n                }\r\n            },\r\n            fail: function (err) {\r\n                uni.hideLoading();\r\n                that._fail(err.errMsg)\r\n            },\r\n        })\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t/* CommonApi.uploadPic({filePath:params[index],name:'pic'}, res => {\r\n\t\t\tif( JSON.parse(res.data).data[0] ){\r\n\t\t\t\t\r\n\t\t\t\tconst _data = JSON.parse(res.data).data[0];\r\n\t\t\t\t// console.log( '图片临时路径', _data )\r\n\t\t\t\tresArrImg.push(_data);\r\n\t\t\t\tindex++;\r\n\t\t\t\t\r\n\t\t\t\t//递归调用，上传下一张\r\n\t\t\t\tif(index < params.length) {\r\n\t\t\t\t  that.uploadAliYun(params);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t// console.log( '图片路径数组', resArrImg )\r\n\t\t\t\t   that._success(resArrImg);\r\n\t\t\t\t   index = 0 ;\r\n\t\t\t\t   resArrImg = [];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// this.activityPic = JSON.parse(res.data).data[0]\r\n\t\t\t}else{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:'图片上传失败',\r\n\t\t\t\t\ticon:'loading',\r\n\t\t\t\t\tmask:true,\r\n\t\t\t\t\tduration:1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}) */\r\n    },\r\n\t\r\n\t\r\n}\r\n\r\nexport default uploadFile\r\n","import api from '@/utils/api.js'\r\nimport Url from '@/common/lib/interUrl.js'\r\n\r\nconst ServiceApi = {\r\n\tgetService(params,callback){ //获取服务列表\r\n\t\tapi.makeRequest({\r\n\t\t\turl:Url.getService,\r\n\t\t\tdata:params,\r\n\t\t\tloading:true,\r\n\t\t\tsuccess(res){\r\n\t\t\t\tcallback(res.data.data)\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\t\r\n\tgetServiceDetail(params,callback){ //获取服务详情\r\n\t\tapi.makeRequest({\r\n\t\t\turl:Url.getServiceDetail,\r\n\t\t\tdata:params,\r\n\t\t\tloading:true,\r\n\t\t\tsuccess(res){\r\n\t\t\t\tcallback(res.data.data)\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n}\r\n\r\nexport default ServiceApi","export default {\r\n\t'contact': '\\ue100',\r\n\t'person': '\\ue101',\r\n\t'personadd': '\\ue102',\r\n\t'contact-filled': '\\ue130',\r\n\t'person-filled': '\\ue131',\r\n\t'personadd-filled': '\\ue132',\r\n\t'phone': '\\ue200',\r\n\t'email': '\\ue201',\r\n\t'chatbubble': '\\ue202',\r\n\t'chatboxes': '\\ue203',\r\n\t'phone-filled': '\\ue230',\r\n\t'email-filled': '\\ue231',\r\n\t'chatbubble-filled': '\\ue232',\r\n\t'chatboxes-filled': '\\ue233',\r\n\t'weibo': '\\ue260',\r\n\t'weixin': '\\ue261',\r\n\t'pengyouquan': '\\ue262',\r\n\t'chat': '\\ue263',\r\n\t'qq': '\\ue264',\r\n\t'videocam': '\\ue300',\r\n\t'camera': '\\ue301',\r\n\t'mic': '\\ue302',\r\n\t'location': '\\ue303',\r\n\t'mic-filled': '\\ue332',\r\n\t'speech': '\\ue332',\r\n\t'location-filled': '\\ue333',\r\n\t'micoff': '\\ue360',\r\n\t'image': '\\ue363',\r\n\t'map': '\\ue364',\r\n\t'compose': '\\ue400',\r\n\t'trash': '\\ue401',\r\n\t'upload': '\\ue402',\r\n\t'download': '\\ue403',\r\n\t'close': '\\ue404',\r\n\t'redo': '\\ue405',\r\n\t'undo': '\\ue406',\r\n\t'refresh': '\\ue407',\r\n\t'star': '\\ue408',\r\n\t'plus': '\\ue409',\r\n\t'minus': '\\ue410',\r\n\t'circle': '\\ue411',\r\n\t'checkbox': '\\ue411',\r\n\t'close-filled': '\\ue434',\r\n\t'clear': '\\ue434',\r\n\t'refresh-filled': '\\ue437',\r\n\t'star-filled': '\\ue438',\r\n\t'plus-filled': '\\ue439',\r\n\t'minus-filled': '\\ue440',\r\n\t'circle-filled': '\\ue441',\r\n\t'checkbox-filled': '\\ue442',\r\n\t'closeempty': '\\ue460',\r\n\t'refreshempty': '\\ue461',\r\n\t'reload': '\\ue462',\r\n\t'starhalf': '\\ue463',\r\n\t'spinner': '\\ue464',\r\n\t'spinner-cycle': '\\ue465',\r\n\t'search': '\\ue466',\r\n\t'plusempty': '\\ue468',\r\n\t'forward': '\\ue470',\r\n\t'back': '\\ue471',\r\n\t'left-nav': '\\ue471',\r\n\t'checkmarkempty': '\\ue472',\r\n\t'home': '\\ue500',\r\n\t'navigate': '\\ue501',\r\n\t'gear': '\\ue502',\r\n\t'paperplane': '\\ue503',\r\n\t'info': '\\ue504',\r\n\t'help': '\\ue505',\r\n\t'locked': '\\ue506',\r\n\t'more': '\\ue507',\r\n\t'flag': '\\ue508',\r\n\t'home-filled': '\\ue530',\r\n\t'gear-filled': '\\ue532',\r\n\t'info-filled': '\\ue534',\r\n\t'help-filled': '\\ue535',\r\n\t'more-filled': '\\ue537',\r\n\t'settings': '\\ue560',\r\n\t'list': '\\ue562',\r\n\t'bars': '\\ue563',\r\n\t'loop': '\\ue565',\r\n\t'paperclip': '\\ue567',\r\n\t'eye': '\\ue568',\r\n\t'arrowup': '\\ue580',\r\n\t'arrowdown': '\\ue581',\r\n\t'arrowleft': '\\ue582',\r\n\t'arrowright': '\\ue583',\r\n\t'arrowthinup': '\\ue584',\r\n\t'arrowthindown': '\\ue585',\r\n\t'arrowthinleft': '\\ue586',\r\n\t'arrowthinright': '\\ue587',\r\n\t'pulldown': '\\ue588',\r\n\t'closefill': '\\ue589',\r\n\t'sound': '\\ue590',\r\n\t'scan': '\\ue612'\r\n}\r\n","/*\n * HTML5 Parser By Sam Blowes\n *\n * Designed for HTML5 documents\n *\n * Original code by John Resig (ejohn.org)\n * http://ejohn.org/blog/pure-javascript-html-parser/\n * Original code by Erik Arvidsson, Mozilla Public License\n * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js\n *\n * ----------------------------------------------------------------------------\n * License\n * ----------------------------------------------------------------------------\n *\n * This code is triple licensed using Apache Software License 2.0,\n * Mozilla Public License or GNU Public License\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License.  You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * The contents of this file are subject to the Mozilla Public License\n * Version 1.1 (the \"License\"); you may not use this file except in\n * compliance with the License. You may obtain a copy of the License at\n * http://www.mozilla.org/MPL/\n *\n * Software distributed under the License is distributed on an \"AS IS\"\n * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n * License for the specific language governing rights and limitations\n * under the License.\n *\n * The Original Code is Simple HTML Parser.\n *\n * The Initial Developer of the Original Code is Erik Arvidsson.\n * Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n * Reserved.\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * ----------------------------------------------------------------------------\n * Usage\n * ----------------------------------------------------------------------------\n *\n * // Use like so:\n * HTMLParser(htmlString, {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * });\n *\n * // or to get an XML string:\n * HTMLtoXML(htmlString);\n *\n * // or to get an XML DOM Document\n * HTMLtoDOM(htmlString);\n *\n * // or to inject into an existing document/DOM node\n * HTMLtoDOM(htmlString, document);\n * HTMLtoDOM(htmlString, document.body);\n *\n */\n// Regular Expressions for parsing tags and attributes\nvar startTag = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/;\nvar endTag = /^<\\/([-A-Za-z0-9_]+)[^>]*>/;\nvar attr = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g; // Empty Elements - HTML 5\n\nvar empty = makeMap('area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr'); // Block Elements - HTML 5\n// fixed by xxx 将 ins 标签从块级名单中移除\n\nvar block = makeMap('a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video'); // Inline Elements - HTML 5\n\nvar inline = makeMap('abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var'); // Elements that you can, intentionally, leave open\n// (and which close themselves)\n\nvar closeSelf = makeMap('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr'); // Attributes that have their values filled in disabled=\"disabled\"\n\nvar fillAttrs = makeMap('checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected'); // Special Elements (can contain anything)\n\nvar special = makeMap('script,style');\nfunction HTMLParser(html, handler) {\n  var index;\n  var chars;\n  var match;\n  var stack = [];\n  var last = html;\n\n  stack.last = function () {\n    return this[this.length - 1];\n  };\n\n  while (html) {\n    chars = true; // Make sure we're not in a script or style element\n\n    if (!stack.last() || !special[stack.last()]) {\n      // Comment\n      if (html.indexOf('<!--') == 0) {\n        index = html.indexOf('-->');\n\n        if (index >= 0) {\n          if (handler.comment) {\n            handler.comment(html.substring(4, index));\n          }\n\n          html = html.substring(index + 3);\n          chars = false;\n        } // end tag\n\n      } else if (html.indexOf('</') == 0) {\n        match = html.match(endTag);\n\n        if (match) {\n          html = html.substring(match[0].length);\n          match[0].replace(endTag, parseEndTag);\n          chars = false;\n        } // start tag\n\n      } else if (html.indexOf('<') == 0) {\n        match = html.match(startTag);\n\n        if (match) {\n          html = html.substring(match[0].length);\n          match[0].replace(startTag, parseStartTag);\n          chars = false;\n        }\n      }\n\n      if (chars) {\n        index = html.indexOf('<');\n        var text = index < 0 ? html : html.substring(0, index);\n        html = index < 0 ? '' : html.substring(index);\n\n        if (handler.chars) {\n          handler.chars(text);\n        }\n      }\n    } else {\n      html = html.replace(new RegExp('([\\\\s\\\\S]*?)<\\/' + stack.last() + '[^>]*>'), function (all, text) {\n        text = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, '$1$2');\n\n        if (handler.chars) {\n          handler.chars(text);\n        }\n\n        return '';\n      });\n      parseEndTag('', stack.last());\n    }\n\n    if (html == last) {\n      throw 'Parse Error: ' + html;\n    }\n\n    last = html;\n  } // Clean up any remaining tags\n\n\n  parseEndTag();\n\n  function parseStartTag(tag, tagName, rest, unary) {\n    tagName = tagName.toLowerCase();\n\n    if (block[tagName]) {\n      while (stack.last() && inline[stack.last()]) {\n        parseEndTag('', stack.last());\n      }\n    }\n\n    if (closeSelf[tagName] && stack.last() == tagName) {\n      parseEndTag('', tagName);\n    }\n\n    unary = empty[tagName] || !!unary;\n\n    if (!unary) {\n      stack.push(tagName);\n    }\n\n    if (handler.start) {\n      var attrs = [];\n      rest.replace(attr, function (match, name) {\n        var value = arguments[2] ? arguments[2] : arguments[3] ? arguments[3] : arguments[4] ? arguments[4] : fillAttrs[name] ? name : '';\n        attrs.push({\n          name: name,\n          value: value,\n          escaped: value.replace(/(^|[^\\\\])\"/g, '$1\\\\\\\"') // \"\n\n        });\n      });\n\n      if (handler.start) {\n        handler.start(tagName, attrs, unary);\n      }\n    }\n  }\n\n  function parseEndTag(tag, tagName) {\n    // If no tag name is provided, clean shop\n    if (!tagName) {\n      var pos = 0;\n    } // Find the closest opened tag of the same type\n    else {\n        for (var pos = stack.length - 1; pos >= 0; pos--) {\n          if (stack[pos] == tagName) {\n            break;\n          }\n        }\n      }\n\n    if (pos >= 0) {\n      // Close all the open elements, up the stack\n      for (var i = stack.length - 1; i >= pos; i--) {\n        if (handler.end) {\n          handler.end(stack[i]);\n        }\n      } // Remove the open elements from the stack\n\n\n      stack.length = pos;\n    }\n  }\n}\n\nfunction makeMap(str) {\n  var obj = {};\n  var items = str.split(',');\n\n  for (var i = 0; i < items.length; i++) {\n    obj[items[i]] = true;\n  }\n\n  return obj;\n}\n\nfunction removeDOCTYPE(html) {\n  return html.replace(/<\\?xml.*\\?>\\n/, '').replace(/<!doctype.*>\\n/, '').replace(/<!DOCTYPE.*>\\n/, '');\n}\n\nfunction parseAttrs(attrs) {\n  return attrs.reduce(function (pre, attr) {\n    var value = attr.value;\n    var name = attr.name;\n\n    if (pre[name]) {\n\t\t\tpre[name] = pre[name] + \" \" + value;\n    } else {\n\t\t\tpre[name] = value;\n    }\n\n    return pre;\n  }, {});\n}\n\nfunction parseHtml(html) {\n  html = removeDOCTYPE(html);\n  var stacks = [];\n  var results = {\n    node: 'root',\n    children: []\n  };\n  HTMLParser(html, {\n    start: function start(tag, attrs, unary) {\n      var node = {\n        name: tag\n      };\n\n      if (attrs.length !== 0) {\n        node.attrs = parseAttrs(attrs);\n      }\n\n      if (unary) {\n        var parent = stacks[0] || results;\n\n        if (!parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(node);\n      } else {\n        stacks.unshift(node);\n      }\n    },\n    end: function end(tag) {\n      var node = stacks.shift();\n      if (node.name !== tag) console.error('invalid state: mismatch end tag');\n\n      if (stacks.length === 0) {\n        results.children.push(node);\n      } else {\n        var parent = stacks[0];\n\n        if (!parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(node);\n      }\n    },\n    chars: function chars(text) {\n      var node = {\n        type: 'text',\n        text: text\n      };\n\n      if (stacks.length === 0) {\n        results.children.push(node);\n      } else {\n        var parent = stacks[0];\n\n        if (!parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(node);\n      }\n    },\n    comment: function comment(text) {\n      var node = {\n        node: 'comment',\n        text: text\n      };\n      var parent = stacks[0];\n\n      if (!parent.children) {\n        parent.children = [];\n      }\n\n      parent.children.push(node);\n    }\n  });\n  return results.children;\n}\n\nexport default parseHtml;"],"sourceRoot":""}